%slide relative ad introdurre gli elementi di XML Schema Definition (XSD) 
% Description and validation of the XML elements and attributes are written in XSD using element declarations and attribute declarations.
%  XSD is a grammar language
% building blocks of an XSD Schema at the most granular level are elements and attributes
% bigger blocks are built using basic components: elements and attributes.
% declaring elements and attributes, adding child elements, defining occurrence and order of child elements
% XSD data types and see how to perform basic data validation using XSD.

% Writing the XSD code for describing and validating an element in an XML document is called element declaration.

%% Element declaration
% The element declaration we created above has an attribute named name.
% This attribute specifies the name of the element expected in the XML instance document
% esistono altri attributi dell'elemento xsd per la dichiarazione di elementi

%% Attribute declaration
% The XSD code to describe and validate an attribute in an XML instance document is called attribute declaration.
% An attribute cannot exist without a parent element;

%% Esempio element declaration più attribute declaration
%  <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
%   <xsd:element name="Employee">
%     <xsd:complexType>
%       <xsd:attribute name="Name"/>
%     </xsd:complexType>
%   </xsd:element>
% </xsd:schema>

%% Element Types
% An element may have a simple type or complex type based on its structure/content.
% It has a simple type if it does not have any child element or attribute 
% If it has an attribute or contains other child elements, it has a complex type.


%% Simple Types
Elements that do not have child elements or attributes are simple type elements.

%% Complex Type


%frame 01
\begin{frame}
    \frametitle{Elementi per la definizione degli schemi xml}
    \framesubtitle{principi}
    \addtocounter{nframe}{1}

    \begin{block}{Cos'è uno schema XML}
     
    Uno schema XSD è un document XML standard.

    An XML Schema is a document which describes another XML document. 
    \\ XML Schemas are used to validate XML documents. 
    \\ An XML schema itself is an XML document which contains the rules to be validated against a given XML instance document
    \end{block}

\end{frame}

%frame 02
\begin{frame}
    \frametitle{Elementi per la definizione degli schemi xml}
    \framesubtitle{principi XSD}
    \addtocounter{nframe}{1}

    \begin{block}{XSD esempio}
        Grazie agli schemi XSD è possibile definire tutte gli elementi e le regole per la corretta strutturazione e la validazione di un documento XML.
    \end{block}

    \begin{block}{XSD Schema}
        Il termine XSD o XML schema si riferisce ad un documento XML che descrive e valida la struttura e il contenuto di un altro documento XML.
        (dichiarazione del documento (declaration) e istanza del documento (instance))
    \end{block}
    
\end{frame}


%frame 03
\begin{frame}
    \frametitle{Elementi per la definizione degli schemi xml}
    \framesubtitle{principi XSD}
    \addtocounter{nframe}{1}

    \begin{block}{XSD esempio}
         The root element of an XML schema should always be the "<schema>" element. All definitions should appear under the root element "<schema>."
    \end{block}

    \begin{block}{XSD Schema}
        All elements and attributes of XML Schema are declared in the namespace "http://www.w3.org/2001/XMLSchema." Hence, every XML schema document should contain the above namespace declaration.
    \end{block}
    
\end{frame}


%frame 04
\begin{frame}
    \frametitle{Elementi per la definizione degli schemi xml}
    \framesubtitle{principi XSD}
    \addtocounter{nframe}{1}

    \defverbatim{\xsdfirst}{%
    \begin{tiny}
    \begin{verbatim}
        <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
            <xsd:element name="text"/>
        </xsd:schema>
    \end{verbatim}
    \end{tiny}
    }

    \defverbatim{\xmlfirst}{%
    \begin{tiny}
    \begin{verbatim}
             <text>Il primo documento XML Validato</text>
    \end{verbatim}
    \end{tiny}
    }


    \begin{block}{XSD esempio}
        {\xsdfirst}
    \end{block}

    \begin{block}{XML XSD esempio}
        
        The XML Instance Document of this schema should contain a root element named text. Here is a valid XML instance document which successfully validates against this schema.
        {\xmlfirst}

    \end{block}
    
\end{frame}


% frame 05 perform validation
%   xmllint xmlfirst.xml --schema ../schema/xsd/xsdfirst.xsd

% If an element contains child elements or attributes, it has a complex type.
% esempio:
% <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
%   <xsd:element name="Employee">
%     <xsd:complexType>
%        <xsd:attribute name="FirstName"/>
%     </xsd:complexType>
%   </xsd:element>
% </xsd:schema>

% Il documento XML istanza dello schema: 
% <Employee FirstName="Jacob"/>

% A complex type can have attributes, child elements or both. Here is another example that shows a complex type having child elements.

% Attribute Group, Element Group

% Order Indicators: all, sequence, choice

% Occurrence Indicators: minOccurs and maxOccurrs

% Data types: Built-in
%% FACETS per consentire una validazione più oculata dei valori che può assumenere un elemento o un attributo.
%% Restriction on base attribute
%% Numeric e String Data Type
%% Pattern facet

% Element Declaration 
%% An XSD element declaration represents an element in the XML instance document
%% An element is said to have a Simple Type if it does not have any attributes and does not have child elements.
%% esempio element declaration

%% An XSD schema may contain Global and Local element declarations.
%% The advantage of using a global element declaration is that it can be reused (referred) at other locations from within the same schema.
%% esempio global element declaration vs local elementi (pag 92 libro xsd)
%% When you have a global element declaration, you can refer it in multiple locations in your schema (level of reusability).
%% Attributi della dichiarazione di elementi: The only mandatory attribute that an element declaration should take is the "name" attribute.

%% tabella con gli attributi nella dichiarazione degli elementi
%% 􏰀name (g-l) the only mandatory attribute (give meaningful names to the elements)
􏰀%% type (g-l) adds data type related validations to the declaration of an element (XSD has buint-in data types)
􏰀%% id (g-l) uniquely identifies the given element (non ha effetti sull'istanza XML)
􏰀%% default (g-l) specify the default value of an element (solo de l'elemento è opzionale)
􏰀%% fixed (g-l) valore di un elemento predefinito ("fixed" and "default" are mutually exclusive)
􏰀%% nillable (g-l) indica che l'elemento è vuoto (xsd:nil nell'istanza XML del documento)
􏰀%% block (g-l)
%% final (g)
􏰀%% abstract (g)
%% substitutionGroup (g)
􏰀%% minOccurs (l)
􏰀%% maxOccurs (l)
􏰀%% ref (l)
􏰀%% form (l)



